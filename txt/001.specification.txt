Необходим скрипт, отрабатывающий по крону каждый вечер, который бы заносил в таблицу БД данные 
согласно "екселю" - "002.Пример выгрузки дата_интервал.xlsx" 

В презентации "003.Презентация мониторинг КЦ_ЭО (03 2018 - 04 2018).pptx"  итоговая статистика, 
которую делает Департамент Здравоохранения согласно наших данных, там есть описание данных

Пример скрипта "004.stats.php" -  я прикрепил, он выводит:
время среза
количество отвеченных за срез времени (для себя)
среднее время ответа
процент отвеченных за 180 сек
количество необработанных звонков за 300 секунд

По полям в базе
info1 время ожидания, info2 время разговора при одних событиях (в секундах)
сами номера пишутся  в эти же поля при  других событиях
uniqueid уникальный номер сессии звонка

По табличке в excel
Срез каждые пол часа с 7-30 до 17-00
Уровень обслуживания процент обслуженных вызовов за 180 сек
Потерянным считается абонент который не дозвонился за день
Доступность, начисление одного балла при соблюдении двух условий (100% вызовов обработано в течении 
5 минут, доля потерянных менее 5%), за срез времени.



Презентация :

1.Уровень обслуживания - это процент вызовов получивших обслуживание в пределах нормы ожидания - 180 сек.
Норма >= 80%
2.Средняя скорость ответа -это среднее время ожидания абонентов ответа с момента поступления вызова до поднятия 
трубки операторами.

3.Доля потерянных абонентов - это количество потерянных абонентов(которые не дождались ответа и им не перезвонили) 
к количеству абонентов, направленных на обслуживание к операторам. Норма <= 5%

4.Доступность - рассчитывается за каждый оцененный интервал (1 рабочий день)исходя из показателей 
уровень обслуживания, средняя скорость ответа, доля потерянных абонентов. Норма >= 80%

Пояснение от Витали по пункту №4 :
Да, если у нас средняя скорость ответа попала в норму и доля потерянных попала в норму, 
начисляем 1 бал за период, у нас это полчаса, т.е. за день у нас максимально 19 баллов 
ибо рабочий день с 7-30 до 17-00
потом мы из общего количства сами посчитаем процентовку по баллам

Вопросы :
1. Таблица queue_stats -> что храниться в поля info1, info2, info3
2. Расчет уровня обслуживания вести по номерам телефонов ? 
3. info1 - время ожидания, а info2 - время разговора - а не наоборот ?
4. qevent = 0 . Что это такое ?


Оъяснение для Витали.
1.есть несколько статусов - которые учитываются в рассчете.
ABANDON-отказ(неуспех) и COMPLETEAGENT,COMPLETECALLER-успех  
2.на их основе и рассчитывается. процент потерянных юзеров. 
просто суммируется и вычисляется %%
3. есть событие ENTERQUEUE - именно при нем пишется номер телефона в info2
при других типах соытий в него пишется другая информация. Например - время разговора(сек).
4. оставалась проблема - урать из расчета в пункете №1 те звонки по которым была неудача,
но потом (в течени дня) с ними всеже удалось связаться. Как это сделать ?
Я предположил, что это можно сделать анализируя телефонные номера из info2 - у которых
сначала был неуспех а потом успех. 
4. я написал процедуру - которая работает так :
4.1.на входе у нее date1 и date2. процедура сканирует queue_stat и когда находит
событие ENTERQUEUE - фиксирует номер телефона.
4.2. а когда находит событие ABANDON - пишет этот номер в очередь (специальная временная таблица)
insert into save_phones 
           values(s_uid, s_dt, s_i2); 
4.3. потмо я проанализировал эту таблицу на предмет поиска телефонов у которых сначала статус был
ABANDON, а потом в течении дня стал -  COMPLETEAGENT,COMPLETECALLER-успех.
Но таких номеров я не нашел. Поэтому этот алгоритм рассчета не учитывает такие номера.